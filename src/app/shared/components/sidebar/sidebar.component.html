<div class="sidebar" [class.collapsed]="collapsed">
  <div class="sidebar-header">
    <div class="logo">
      <img src="assets/images/logo.png" alt="Logo">
    </div>
    <h3>Marketplace Local</h3>
  </div>

  <div class="sidebar-content">
    @for (group of sidebarGroups; track group.title) {
      <div class="sidebar-group">
        <h4 class="group-title">{{ group.title }}</h4>
        <ul class="menu-items">
          @for (item of group.items; track item.label) {
            <li class="menu-item" [class.has-children]="item.children?.length">
              @if (item.route && !item.children?.length) {
                <a [routerLink]="item.route" routerLinkActive="active">
                  <i class="material-icons">{{ item.icon }}</i>
                  <span>{{ item.label }}</span>
                </a>
              } @else {
                <div class="submenu-toggle" (click)="toggleSubMenu(item)">
                  <i class="material-icons">{{ item.icon }}</i>
                  <span>{{ item.label }}</span>
                  <i class="material-icons arrow">{{ item.expanded ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}</i>
                </div>

                @if (item.children?.length && item.expanded) {
                  <ul class="submenu">
                    @for (child of item.children; track child.label) {
                      <li>
                        <a [routerLink]="child.route" routerLinkActive="active">
                          <i class="material-icons">{{ child.icon }}</i>
                          <span>{{ child.label }}</span>
                        </a>
                      </li>
                    }
                  </ul>
                }
              }
            </li>
          }
        </ul>
      </div>
    }
  </div>
</div>
